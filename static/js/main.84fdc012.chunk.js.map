{"version":3,"sources":["redux/formReducer.js","redux/listReducer.js","redux/store.js","components/Service/Service.js","components/ListService/ListService.js","components/EditService/EditService.js","App.js","reportWebVitals.js","index.js"],"names":["initialState","name","price","content","services","id","loading","error","rootReducer","combineReducers","formReducer","state","action","type","payload","fild","value","listReducer","item","newState","items","uuidv4","idItem","itemEdit","filter","filterFlag","filtered","o","operation","toLowerCase","startsWith","store","createStore","Service","handleDel","className","to","onClick","ListService","url","useSelector","dispatch","useDispatch","useEffect","fetch","then","response","status","console","log","json","service","catch","method","map","EditService","form","params","useParams","navigate","useNavigate","handleChange","target","checked","onSubmit","e","preventDefault","body","JSON","stringify","onChange","App","path","element","replace","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.84fdc012.chunk.js","sourcesContent":["const initialState = { name: \"\", price: \"\", content: \"\" };\n\n//action={type:\"\",payload:\"\"}\nexport default function formReducer(state = initialState, action) {\n  switch (action.type) {\n    case \"CHANGE_FORM_VALUES\":\n      const { fild, value } = action.payload;\n      return { ...state, [fild]: value };\n    case \"CHANGE_FORM_INIT\":\n      return initialState;\n    case \"CHANGE_FORM_IN_ITEM\":\n      return action.payload;\n    default:\n      return state;\n  }\n}\n","import { v4 as uuidv4 } from \"uuid\";\n\nconst initialState = {\n  services: [\n    { id: 1, name: \"Замена стекла\", price: 21000 },\n    { id: 2, name: \"Замена дисплея\", price: 25000 },\n  ],\n  loading: \"idel\",\n  error: false,\n};\n\n//action={type:\"\",payload:\"\"}\nexport default function listReducer(state = initialState, action) {\n  switch (action.type) {\n    case \"ADD_ITEM\":\n      const item = action.payload;\n      const newState = {\n        ...state,\n        items: [...state.items, { ...item, id: uuidv4() }],\n      };\n      return newState;\n\n    case \"EDIT_ITEM\":\n      const { idItem, itemEdit } = action.payload;\n      return {\n        ...state,\n        items: [\n          ...state.items.filter((item) => item.id !== idItem),\n          { ...itemEdit, id: idItem },\n        ],\n      };\n    case \"FILTER_ITEM\":\n      const filter = action.payload;\n      if (!filter) {\n        return { ...state, filterFlag: false };\n      } else {\n        return {\n          ...state,\n          filterFlag: true,\n          filtered: [\n            ...state.items.filter((o) => {\n              return o.operation.toLowerCase().startsWith(filter.toLowerCase());\n            }),\n          ],\n        };\n      }\n\n    case \"DELETE_ITEM\":\n      const id = action.payload;\n      return {\n        ...state,\n        services: state.services.filter((item) => item.id !== id),\n      };\n\n    case \"GET_ITEM\":\n      return {\n        ...state,\n        services: [...action.payload],\n      };\n    case \"SET_ERROR\":\n      return {\n        ...state,\n        error: action.payload,\n      };\n    case \"SET_LOADING\":\n      return {\n        ...state,\n        loading: action.payload,\n      };\n\n    default:\n      return state;\n  }\n}\n","import { createStore, combineReducers } from \"redux\";\nimport formReducer from \"./formReducer\";\nimport listReducer from \"./listReducer\";\n\nconst rootReducer = combineReducers({\n  formReducer,\n  listReducer,\n});\nconst store = createStore(rootReducer);\n\nexport default store;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Link } from \"react-router-dom\";\nimport \"./desktop.scss\";\n\nconst Service = ({ id, name, price, handleDel }) => {\n  return (\n    <div className=\"Item\" id={id}>\n      <span className=\"Item-item operation\">{name}</span>\n      <span className=\"Item-item price\"> {price}</span>\n      <Link to={`/services/${id}`} className=\"Item-item  edit\">\n        <span className=\"material-icons edit\">edit</span>\n      </Link>\n      <span onClick={() => handleDel(id)} className=\"Item-item del\">\n        <span className=\"material-icons del\">clear</span>\n      </span>\n    </div>\n  );\n};\n\nService.propTypes = {\n  id: PropTypes.number,\n  name: PropTypes.string,\n  handleDel: PropTypes.func,\n};\n\nexport default Service;\n","import React, { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Service from \"../Service/Service\";\nimport \"./desktop.scss\";\n\nfunction ListService({ url }) {\n  const { services, loading, error } = useSelector(\n    (store) => store.listReducer\n  );\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch({ type: \"SET_ERROR\", payload: false });\n    dispatch({ type: \"SET_LOADING\", payload: \"loading\" });\n    fetch(`${url}/services`)\n      .then((response) => {\n        if (response.status > 300) {\n          console.log(\"error\" + response.status);\n        }\n        return response.json();\n      })\n      .then((service) => {\n        dispatch({ type: \"GET_ITEM\", payload: service });\n        dispatch({ type: \"SET_LOADING\", payload: \"idel\" });\n      })\n      .catch(() => {\n        dispatch({ type: \"SET_ERROR\", payload: true });\n      });\n    // eslint-disable-next-line\n  }, []);\n\n  const handleDel = (id) => {\n    dispatch({ type: \"SET_ERROR\", payload: false });\n    dispatch({ type: \"SET_LOADING\", payload: \"loading\" });\n    fetch(`${url}/services/:${id}`, { method: \"DELETE\" })\n      .then((response) => {\n        if (response.status === 204) {\n          dispatch({ type: \"DELETE_ITEM\", payload: id });\n          dispatch({ type: \"SET_LOADING\", payload: \"idel\" });\n        }\n      })\n      .catch(() => {\n        dispatch({ type: \"SET_ERROR\", payload: true });\n        dispatch({ type: \"SET_LOADING\", payload: \"idel\" });\n      });\n  };\n  return (\n    <div className=\"ListService\">\n      <div className=\"ListService-row\">\n        {services.map((item) => {\n          return (\n            <Service\n              key={item.id}\n              id={item.id}\n              name={item.name}\n              price={item.price}\n              handleDel={handleDel}\n            />\n          );\n        })}\n      </div>\n      {loading === \"loading\" ? <div className=\"loader\">LOADING...</div> : null}\n      {error && <div className=\"error\">Произошла ошибка</div>}\n    </div>\n  );\n}\n\nexport default ListService;\n","import React, { useEffect } from \"react\";\nimport { Link, useParams, useNavigate } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport \"./desktop.scss\";\n\nfunction EditService({ url }) {\n  const dispatch = useDispatch();\n  const { loading, error } = useSelector((store) => store.listReducer);\n  const form = useSelector((store) => store.formReducer);\n  const params = useParams();\n  const navigate = useNavigate();\n\n  const handleChange = ({ target }) => {\n    const name = target.name;\n    const value = target.type === \"checkbox\" ? target.checked : target.value;\n    dispatch({ type: \"CHANGE_FORM_VALUES\", payload: { fild: name, value } });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch({ type: \"SET_LOADING\", payload: \"loading\" });\n    fetch(`${url}/services/`, {\n      method: \"POST\",\n      body: JSON.stringify({ ...form, id: +params.id }),\n    })\n      .then((response) => {\n        if (response.status === 204) {\n          dispatch({ type: \"SET_LOADING\", payload: \"idel\" });\n          navigate(\"/\");\n        }\n      })\n      .catch(() => {\n        dispatch({ type: \"SET_LOADING\", payload: \"idel\" });\n        dispatch({ type: \"SET_ERROR\", payload: true });\n      });\n  };\n\n  useEffect(() => {\n    dispatch({ type: \"SET_ERROR\", payload: false });\n    dispatch({ type: \"SET_LOADING\", payload: \"loading\" });\n    fetch(`${url}/services/${params.id}`)\n      .then((response) => {\n        return response.json();\n      })\n      .then((item) => {\n        dispatch({ type: \"SET_LOADING\", payload: \"idel\" });\n        dispatch({\n          type: \"CHANGE_FORM_IN_ITEM\",\n          payload: {\n            name: item.name,\n            price: item.price,\n            content: item.content,\n          },\n        });\n      })\n      .catch(() => {\n        dispatch({ type: \"SET_LOADING\", payload: \"idel\" });\n        dispatch({ type: \"SET_ERROR\", payload: true });\n      });\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <div className=\"EditService\">\n      {loading === \"loading\" ? (\n        <div className=\"EditService-Loading\"></div>\n      ) : null}\n      {\n        <form className=\"Editing-form-row\" onSubmit={handleSubmit}>\n          <label className=\"EditService-lablel\">\n            Название\n            <input\n              className=\"form-item\"\n              name=\"name\"\n              type=\"text\"\n              value={form.name}\n              onChange={handleChange}\n            />\n          </label>\n\n          <label className=\"EditService-lablel\">\n            Стоимость\n            <input\n              className=\"form-item\"\n              name=\"price\"\n              type=\"number\"\n              value={form.price}\n              onChange={handleChange}\n            />\n          </label>\n\n          <label className=\"EditService-lablel\">\n            Описание\n            <input\n              className=\"form-item\"\n              name=\"content\"\n              type=\"text\"\n              value={form.content}\n              onChange={handleChange}\n            />\n          </label>\n          <div className=\"EditService-control\">\n            <Link to=\"/\" className=\"form-item control \">\n              Отмена\n            </Link>\n            <input\n              className=\"form-item control\"\n              type=\"submit\"\n              value=\"Сохранить\"\n            />\n          </div>\n        </form>\n      }\n      {error && <div className=\"error\">Произошла ошибка</div>}\n    </div>\n  );\n}\n\nexport default EditService;\n","import React from \"react\";\nimport \"./App.css\";\nimport {\n  HashRouter as Router,\n  Routes,\n  Route,\n  Navigate,\n} from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\nimport ListService from \"./components/ListService/ListService\";\nimport EditService from \"./components/EditService/EditService\";\n\nconst adres = \"https://react-home-works-redux-thunk.herokuapp.com\";\n// const adres = \"http://localhost\";\nconst port = \"\";\nconst url = `${adres}:${port}/api`;\nfunction App() {\n  return (\n    <Provider store={store}>\n      <Router>\n        <div className=\"App\">\n          <Routes>\n            <Route path=\"/services/:id\" element={<EditService url={url} />} />\n            <Route path=\"/services\" element={<ListService url={url} />} />\n            <Route path=\"/\" element={<Navigate replace to=\"/services\" />} />\n          </Routes>\n        </div>\n      </Router>\n    </Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}